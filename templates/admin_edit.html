{% extends "admin_base.html" %}

{% block title %}Admin - Edit Link{% endblock %}

{% block content %}
<h1>Edit Link</h1>

{% if let Some(error) = error %}
<div class="message error">{{ error }}</div>
{% endif %}

{# nosemgrep: python.django.security.django-no-csrf-token.django-no-csrf-token #}
<form method="post" action="/admin/edit/{{ link.id }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <div class="form-group">
        <label for="name">Link Name:</label>
        <input type="text" id="name" name="name" required value="{{ link.name }}">
    </div>

    <div class="form-group">
        <label for="target">Target URL:</label>
        <input type="text" id="target" name="target" required value="{{ link.target }}">
        <small >Must be a valid URL including http:// or https://</small>
    </div>

    <div class="form-group">
        <label for="tag">Tag:</label>
        <input type="text" id="tag" name="tag" required value="{{ link.tag }}">
        <small></small>Cannot use: link, admin, preview</small>
    </div>

    <button type="submit">Update Link</button>
    <a href="/admin/" class="button btn-secondary">Cancel</a>
</form>
{% endblock %}
